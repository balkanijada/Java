<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Total Expense</title>
<link rel="stylesheet" type="text/css" href="mycss.css">
</head>
<body style="background-color:#F2C45A;" class="ex1">
    <ul>
	  <li style="float:right"><span style="font-size:35px;cursor:pointer;color:white;" onclick="openNav()">&nbsp;&#9776;&nbsp;</span></li>
       <li style="float:right"><a href="allexpense.html"><font size="4" face="Verdana" color="white">All Time</font></a></li>
       <li style="float:right"><a href="yearexpense.html"><font size="4" face="Verdana" color="white">Current Year</font></a></li>
       <li style="float:right"><a href="monthexpense.html"><font size="4" face="Verdana" color="white">Current Month</font></a></li>
       <li style="float:right;background:#898989"><a href="expense.html"><font size="4" face="Verdana" color="white">Today</font></a></li>
      <li ><font size="6" face="Verdana" color="white"><i>Total Expense</i></font></li>
    </ul>
	  <div id="mySidenav" class="sidenav">
        <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
        <a href="home.html"style="color:white;font-family:Verdana">Home</a>
        <a href="income.html"style="color:white;font-family:Verdana">Total Income</a>
        <a href="expense.html"style="color:white;font-family:Verdana">Total Expense</a>
        <a href="balance.html"style="color:white;font-family:Verdana">Balance</a>
        <a href="diagrams.html"style="color:white;font-family:Verdana">Diagrams</a>
		<a href="addincome.html"style="color:white;font-family:Verdana">Add Income</a>
        <a href="addexpense.html"style="color:white;font-family:Verdana">Add Expense</a>
		<br>
	   <br>
	   <a href="index.html"style="color:white;font-family:Verdana">Log Out</a>
     </div>
     <br>
     <br>
	  <h2 align="center"><font face="Verdana">For Today</font></h2>	
	  <p style="margin-left:100px;font-family:Verdana;font-size: 19px; font-style: italic;font-weight: bold;color:red" id="food1"><p> 
      <p style="margin-left:100px;font-family:Verdana;font-size: 19px; font-style: italic;font-weight: bold;color:red" id="health1"><p>
	  <p style="margin-left:100px;font-family:Verdana;font-size: 19px; font-style: italic;font-weight: bold;color:red" id="study1"><p>
	  <p style="margin-left:100px;font-family:Verdana;font-size: 19px; font-style: italic;font-weight: bold;color:red" id="transport1"><p>
	 <br>
     <br>
		<div style="text-align:center"> 
           <a href="income.html" class="previous round">&#8249;</a>
           <a href="balance.html" class="next round">&#8250;</a>
        </div>
     <br>
<script type="text/javascript" language="javascript">
getexpense();
function getexpense()
{
    URL1 = "http://localhost:8989/Wallet/getfood1"; 	//Your URL
	URL2= "http://localhost:8989/Wallet/gethealth1";
	URL3= "http://localhost:8989/Wallet/getstudy1";
	URL4 = "http://localhost:8989/Wallet/gettransport1"; 

    var xmlhttp = new XMLHttpRequest();
    xmlhttp.onreadystatechange = callbackFunction(xmlhttp);
    xmlhttp.open("GET", URL1, false);
    xmlhttp.setRequestHeader("Content-Type", "application/json");
    xmlhttp.setRequestHeader('Authorization', 'Basic ' + window.btoa('apiusername:apiuserpassword')); //in prod, you should encrypt user name and password and provide encrypted keys here instead 
    xmlhttp.onreadystatechange = callbackFunction(xmlhttp);
    xmlhttp.send(null);
    // alert(xmlhttp.responseText);
    var jsonObj= JSON.parse(xmlhttp.responseText);
    document.getElementById("food1").innerHTML =   "Food:    "+jsonObj.food+".00";
	
	var xmlhttp2 = new XMLHttpRequest();
    xmlhttp2.onreadystatechange = callbackFunction(xmlhttp2);
    xmlhttp2.open("GET", URL2, false);
    xmlhttp2.setRequestHeader("Content-Type", "application/json");
    xmlhttp2.setRequestHeader('Authorization', 'Basic ' + window.btoa('apiusername:apiuserpassword')); //in prod, you should encrypt user name and password and provide encrypted keys here instead 
    xmlhttp2.onreadystatechange = callbackFunction(xmlhttp2);
    xmlhttp2.send(null);
    // alert(xmlhttp2.responseText);
    var jsonObj2= JSON.parse(xmlhttp2.responseText);
    document.getElementById("health1").innerHTML =   "Health:    "+jsonObj2.health+".00";
	
	var xmlhttp3 = new XMLHttpRequest();
    xmlhttp3.onreadystatechange = callbackFunction(xmlhttp3);
    xmlhttp3.open("GET", URL3, false);
    xmlhttp3.setRequestHeader("Content-Type", "application/json");
    xmlhttp3.setRequestHeader('Authorization', 'Basic ' + window.btoa('apiusername:apiuserpassword')); //in prod, you should encrypt user name and password and provide encrypted keys here instead 
    xmlhttp3.onreadystatechange = callbackFunction(xmlhttp3);
    xmlhttp3.send(null);
    // alert(xmlhttp3.responseText);
    var jsonObj3= JSON.parse(xmlhttp3.responseText);
    document.getElementById("study1").innerHTML =   "Study:    "+jsonObj3.study+".00";
	
	var xmlhttp4 = new XMLHttpRequest();
    xmlhttp4.onreadystatechange = callbackFunction(xmlhttp4);
    xmlhttp4.open("GET", URL4, false);
    xmlhttp4.setRequestHeader("Content-Type", "application/json");
    xmlhttp4.setRequestHeader('Authorization', 'Basic ' + window.btoa('apiusername:apiuserpassword')); //in prod, you should encrypt user name and password and provide encrypted keys here instead 
    xmlhttp4.onreadystatechange = callbackFunction(xmlhttp4);
    xmlhttp4.send(null);
    // alert(xmlhttp4.responseText);
    var jsonObj4= JSON.parse(xmlhttp4.responseText);
    document.getElementById("transport1").innerHTML =   "Transport:    "+jsonObj4.transport+".00";	
}
function callbackFunction(xmlhttp) 
{
    //alert(xmlhttp.responseXML);
}
function openNav() {
    document.getElementById("mySidenav").style.width = "340.16px";
    document.getElementById("main").style.marginLeft = "340.16px";
}
function closeNav() {
    document.getElementById("mySidenav").style.width = "0";
    document.getElementById("main").style.marginLeft= "0";
}
</script>
</body>
</html>
