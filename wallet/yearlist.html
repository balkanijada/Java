<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Simple Wallet</title>
<link rel="stylesheet" type="text/css" href="mycss.css">
</head>
<body style="background-color:#F2C45A;" class="ex1"  id='bod'>	
  <ul>
        <li style="float:right"><span style="font-size:35px;cursor:pointer;color:white;" onclick="openNav(); ">&nbsp;&#9776;&nbsp;</span></li>
		<li style="float:right"><a href="alllist.html"><font size="4" face="Verdana" color="white">All Time</font></a></li>
        <li style="float:right;background:#898989"><a href="yearlist.html"><font size="4" face="Verdana" color="white">Current Year</font></a></li>
        <li style="float:right"><a href="monthlist.html"><font size="4" face="Verdana" color="white">Current Month</font></a></li>
        <li style="float:right;"><a href="list.html"><font size="4" face="Verdana" color="white">Today</font></a></li>
        <li><font size="6" face="Verdana" color="white"><i>Transaction List</i></font></li>			
  </ul>
     <div id="mySidenav" class="sidenav">
       <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
       <a href="home.html"style="color:white;font-family:Verdana">Home</a>
       <a href="income.html"style="color:white;font-family:Verdana">Total Income</a>
       <a href="expense.html"style="color:white;font-family:Verdana">Total Expense</a>
       <a href="balance.html"style="color:white;font-family:Verdana">Balance</a>
       <a href="diagrams.html"style="color:white;font-family:Verdana">Diagrams</a>
	   <a href="list.html"style="color:white;font-family:Verdana">Transaction List</a>
	   <a href="addincome.html"style="color:white;font-family:Verdana">Add Income</a>
       <a href="addexpense.html"style="color:white;font-family:Verdana">Add Expense</a>
	   <br>
	   <br>
	   <a href="index.html"style="color:white;font-family:Verdana">Log Out</a>
     </div>
         <br>
         <br>
	    <h2 align="center"><font face="Verdana">For Current Year</font></h2>	
	    <p style="margin-left:100px;margin-right:100px;font-family:Verdana;font-size: 19px; font-style: italic; font-weight: bold;color:green" id="income1"><p> 
        <p style="margin-left:100px;margin-right:100px;font-family:Verdana;font-size: 19px; font-style: italic; font-weight: bold;color:red" id="expense1"><p> 
	    <p style="margin-left:100px;margin-right:100px;font-family:Verdana;font-size: 19px; font-style: italic; font-weight: bold;" id="balance1"><p> 	   
        <br>	
<script type="text/javascript" language="javascript">
getall();
function getall()
{ 
    URL = "http://localhost:8989/Wallet/getincome1";  //Your URL
    
    var xmlhttp = new XMLHttpRequest();
    xmlhttp.onreadystatechange = callbackFunction(xmlhttp);
    xmlhttp.open("GET", URL, false);
    xmlhttp.setRequestHeader("Content-Type", "application/json");
    xmlhttp.setRequestHeader('Authorization', 'Basic ' + window.btoa('apiusername:apiuserpassword')); //in prod, you should encrypt user name and password and provide encrypted keys here instead 
    xmlhttp.onreadystatechange = callbackFunction(xmlhttp);
    xmlhttp.send(null);
    var jsonObj= JSON.parse(xmlhttp.responseText);
    document.getElementById("income1").innerHTML = "Income:    "+ jsonObj.income+".00";
	
	URL2 = "http://localhost:8989/Wallet/getexpense1";
    
    var xmlhttp2 = new XMLHttpRequest();
    xmlhttp2.onreadystatechange = callbackFunction(xmlhttp2);
    xmlhttp2.open("GET", URL2, false);
    xmlhttp2.setRequestHeader("Content-Type", "application/json");
    xmlhttp2.setRequestHeader('Authorization', 'Basic ' + window.btoa('apiusername:apiuserpassword')); //in prod, you should encrypt user name and password and provide encrypted keys here instead 
    xmlhttp2.onreadystatechange = callbackFunction(xmlhttp2);
    xmlhttp2.send(null);
    // alert(xmlhttp2.responseText);
    var jsonObj2= JSON.parse(xmlhttp2.responseText);
    document.getElementById("expense1").innerHTML =   "Expense:    "+jsonObj2.expense+".00";
	
	URL3 = "http://localhost:8989/Wallet/getbalance1"; 
    
    var xmlhttp3 = new XMLHttpRequest();
    xmlhttp3.onreadystatechange = callbackFunction(xmlhttp3);
    xmlhttp3.open("GET", URL3, false);
    xmlhttp3.setRequestHeader("Content-Type", "application/json");
    xmlhttp3.setRequestHeader('Authorization', 'Basic ' + window.btoa('apiusername:apiuserpassword')); //in prod, you should encrypt user name and password and provide encrypted keys here instead 
    xmlhttp3.onreadystatechange = callbackFunction(xmlhttp3);
    xmlhttp3.send(null);
    // alert(xmlhttp.responseText);
    var jsonObj3= JSON.parse(xmlhttp3.responseText);
    document.getElementById("balance1").innerHTML =   "Balance:    "+jsonObj3.balance+".00";
}
function callbackFunction(xmlhttp) 
{
    //alert(xmlhttp.responseXML);
}
function openNav() {
    document.getElementById("mySidenav").style.width = "340.16px";
    document.getElementById("main").style.marginLeft = "340.16px";
}
function closeNav() {
    document.getElementById("mySidenav").style.width = "0";
    document.getElementById("main").style.marginLeft= "0";
}
</script>
</body>
</html>
