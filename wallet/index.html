<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Simple Wallet</title>
<link rel="stylesheet" type="text/css" href="mycss.css">
</head>
<body style="background-color:#F2C45A;" class="ex1"  id='bod'>	
  <ul>
        <li style="float:right"><span style="font-size:35px;cursor:pointer;color:white;" onclick="openNav();">&nbsp;&#9776;&nbsp;</span></li>
        <li style="float:right"><a href="createacc.html"><font size="4" face="Verdana" color="white">Create Account</font></a></li>     
        <li><font size="6" face="Verdana" color="white"><i>Sign In</i></font></li>			
  </ul>
     <div id="mySidenav" class="sidenav">
       <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
       <a href="index.html"style="color:white;font-family:Verdana">Home</a>
       <a href="index.html"style="color:white;font-family:Verdana">Total Income</a>
       <a href="index.html"style="color:white;font-family:Verdana">Total Expense</a>
       <a href="index.html"style="color:white;font-family:Verdana">Balance</a>
       <a href="index.html"style="color:white;font-family:Verdana">Diagrams</a>
	   <a href="index.html"style="color:white;font-family:Verdana">Add Income</a>
       <a href="index.html"style="color:white;font-family:Verdana">Add Expense</a>
	   <br>
	   <br>
	   <a href="index.html"style="color:white;font-family:Verdana">Log Out</a>
     </div>
         <br>
         <br>
	    <div style="">
		<p style="margin-left:320px"><font face="Verdana" size="3.5"><i><b>Username:</b></i></font><input type="text" name="username"id="username" placeholder="Username"  style="width:25%;margin-left:10px"/></p>
        <p style="margin-left:320px"><font face="Verdana" size="3.5"><i><b>Password:</b></i></font><input type="password" name="password"id="password" placeholder="Password"  style="width:25%;margin-left:10px"/></p>  	
             </div>
     <br>
     <br>
         <div style="text-align: center;" class="btn-group">
	       <button onclick="login();" style="width:15%;margin-left:300px">LogIn</button>
           <button onclick="window.location.reload();"style="width:15%;margin-left:10px">Restart</button>				 
         </div>    
     <br>
<script type="text/javascript">
    document.getElementById("myButton").onclick = function () {
        location.href = "home.html";
    };
</script>
<script type="text/javascript" language="javascript">

function login()
{
    var input = document.getElementById("username").value;
	var input2 = document.getElementById("password").value;
    var urlvariable;
    urlvariable = "text";
    var JsonNo='{"username": "'+input+'","password":"'+input2+'"}';
  
    URL = "http://localhost:8989/Wallet/login";  //Your URL
    
    var xmlhttp = new XMLHttpRequest();
    xmlhttp.onreadystatechange = callbackFunction(xmlhttp);
    xmlhttp.open("POST", URL, false);
    xmlhttp.setRequestHeader("Content-Type", "application/json");
    xmlhttp.setRequestHeader('Authorization', 'Basic ' + window.btoa('apiusername:apiuserpassword')); //in prod, you should encrypt user name and password and provide encrypted keys here instead 
    xmlhttp.onreadystatechange = callbackFunction(xmlhttp);
    xmlhttp.send(JsonNo);
    var jsonObj= JSON.parse(xmlhttp.responseText);
	if(jsonObj.password=='null'){
	confirm("You have entered an invalid username or password!");
	}else{
	window.location.href = "home.html";
     }	
}
function callbackFunction(xmlhttp) 
{
    //alert(xmlhttp.responseXML);
}
function openNav() {
    document.getElementById("mySidenav").style.width = "340.16px";
    document.getElementById("main").style.marginLeft = "340.16px";
}
function closeNav() {
    document.getElementById("mySidenav").style.width = "0";
    document.getElementById("main").style.marginLeft= "0";
}
</script>
</body>
</html>
